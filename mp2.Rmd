---
title: "Mini-Project 2"
author: "Kareen Seignon"
date: "March 22, 2017"
output: html_document
---


## Loading the data

This project is so interesting and relevant to my life!

```{r, include=FALSE}
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```
```{r}
library(tidyverse)
```
```{r}
library(dplyr)
```

```{r}
glimpse(house_elections)
```
```{r}
glimpse(candidates)
```
```{r}
glimpse(committees)
```
```{r}
glimpse(contributions)
```
```{r}
View(house_elections)
```
```{r}
df1 <- house_elections %>% 
 select(ge_winner, fec_id) %>% 
 filter(ge_winner != "")
```
```{r}
df<- contributions%>%
 filter(cand_id != "") %>%
 group_by(cand_id)%>%
 summarize(total=n())%>%
 arrange(desc(total))
```

```{r}
contributions %>% 
 select(transaction_amt)
```
```{r}
df1<- contributions%>%
 filter(cand_id != "") %>%
 group_by(cand_id)%>%
 summarize(total=n())%>%
 arrange(desc(total))
 

df2 <- house_elections%>%
 filter(ge_winner !="", !is.na(ge_winner))%>%
 select(ge_winner,fec_id)
 names(df2)[names(df2) == "fec_id"] <- "cand_id"
 
df3 <- df1%>%
 full_join(df2, by ="cand_id")

df3<- df3%>%
 filter(!is.na(ge_winner))

df4 <- candidates%>%
 select(cand_id, cand_name, cand_party_affiliation) %>% 
 filter(cand_party_affiliation %in% c("DEM", "REP"), !is.na(cand_party_affiliation))

df5 <- df3%>%
 full_join(df4, by="cand_id")  
 
```

```{r}
ggplot(df5, aes(x = ge_winner)) + 
 geom_bar(aes(fill = cand_party_affiliation), position = "dodge")
```




